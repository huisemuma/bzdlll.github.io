import com.greensock.TweenMax;import com.greensock.easing.*;var box:MovieClip = new MovieClip();addChild(box);box.x = 200, box.y = 200;var ballR:Number = 180;var count:int;var rotX:Number = 60;var percentY:Number = Math.cos(rotX * Math.PI / 180);//球形倾斜后，剖面圆中心位置对于倾斜前的百分比var percentR:Number = Math.sin(rotX * Math.PI / 180);//球形倾斜后，剖面圆椭圆高相对于宽的百分比var tempR:Number = 0;//随着纬度变化，圆切面半径变化var centerY:Number = 0;var longi:Number = 0;var lati:Number = 0;var totLongi:Number = 1080 * 2;var totLati:Number = 180;var totFrame:int = 60 * 4;var rangeLongi:Number = totLongi / totFrame;//7.2var rangeLati:Number = totLati / totFrame;//0.6var realX:Number = 0;var realY:Number = 0;var tar = new Shape();var point = new Shape();//addChild(point);var lineBox = new Shape();addChild(lineBox);//lineBox.graphics.lineStyle(4, 0xFFFFFF, 1);point.graphics.lineStyle(2, 0xFFFFFF, 1);point.graphics.beginFill(0xFF0000, 1);point.graphics.drawCircle(0, 0, 6);movePoint();lineBox.graphics.moveTo(realX, realY);addEventListener(Event.ENTER_FRAME, movePoint);addEventListener(Event.ENTER_FRAME, changeRotX);function movePoint(e:Event = null){	lineBox.graphics.clear();	percentY = Math.cos(rotX * Math.PI / 180);	percentR = Math.sin(rotX * Math.PI / 180);		lineBox.graphics.lineStyle(0, 0xFFFFFF, 0);			for(var i:int = 0; i < 480 + 1; i++)	{		longi = rangeLongi * (i % 480 < 240 ? i % 480 : -i % 480)		lati = rangeLati * i;		centerY = -ballR * Math.cos(lati * Math.PI / 180) * percentY;		tempR = ballR * Math.sin(lati * Math.PI / 180);				realX = 200 + Math.cos(longi * Math.PI / 180) * tempR;		realY = 200 + centerY + Math.cos((longi + 90) * Math.PI / 180) * tempR * percentR;				point.x = realX;		point.y = realY;		if(i == 0)		{			lineBox.graphics.moveTo(realX, realY);		}				lineBox.graphics.lineStyle(4, 0xFFFFFF, 1);		lineBox.graphics.lineTo(realX, realY);	}}function changeRotX(e:Event = null){	rotX = tar.y;}function run(){	TweenMax.fromTo(tar, 8, {y:0}, {y:360, ease:Linear.easeNone, overwrite:false, onComplete:run});}run();