import com.greensock.TweenMax;import com.greensock.easing.*;var ballR:Number = 180;var rotX:Number = 30;var percentY:Number = Math.cos(rotX * Math.PI / 180);//球形倾斜后，剖面圆中心位置对于倾斜前的百分比var percentR:Number = Math.sin(rotX * Math.PI / 180);//球形倾斜后，剖面圆椭圆高相对于宽的百分比var tempR:Number = 0;//随着纬度变化，圆切面半径变化var totStep:int = 480;var centerY:Number = 0;var centerY2:Number = 0;var longi:Number = 0;var latiInit:Number = 0;var lati:Number = 0;var totLongi:Number = 1080 * 2;var totLati:Number = 180;var totFrame:int = 60 * 4;var rangeLongi:Number = 0;var rangeLati:Number = 0;//0.6var realX:Number = 0;var realY:Number = 0;var realX2:Number = 0;var realY2:Number = 0;var tar = new Shape();var point = new Shape();//addChild(point);var lineBox = new Shape();addChild(lineBox);var lineBox2 = new Shape();addChild(lineBox2);//lineBox.graphics.lineStyle(4, 0xFFFFFF, 1);point.graphics.lineStyle(2, 0xFFFFFF, 1);point.graphics.beginFill(0xFF0000, 1);point.graphics.drawCircle(0, 0, 6);movePoint();lineBox.graphics.moveTo(realX, realY);addEventListener(Event.ENTER_FRAME, movePoint);addEventListener(Event.ENTER_FRAME, changeRotX);function movePoint(e:Event = null){	lineBox.graphics.clear();	lineBox.graphics.lineStyle(0, 0xFFFFFF, 0);	lineBox2.graphics.clear();	lineBox2.graphics.lineStyle(0, 0xFFFFFF, 0);		for(var i:int = 0; i < totStep + 1; i++)	{		longi = totLongi * (i / totStep);		lati = totLati * (i / totStep);		centerY = -ballR * Math.cos((latiInit + lati) * Math.PI / 180) * percentY;		centerY2 = -ballR * Math.cos((latiInit + lati) * Math.PI / 180) * percentY;		tempR = ballR * Math.sin(lati * Math.PI / 180);						realX = 200 + Math.cos(longi * Math.PI / 180) * tempR;		realY = 200 + centerY + Math.cos((longi + 90) * Math.PI / 180) * tempR * percentR;				realX2 = 200 + Math.cos((longi + 180) * Math.PI / 180) * tempR;		realY2 = 200 + centerY2 + Math.cos(((longi + 180) + 90) * Math.PI / 180) * tempR * percentR;				point.x = realX;		point.y = realY;		if(i == 0)		{			lineBox.graphics.moveTo(realX, realY);			lineBox2.graphics.moveTo(realX2, realY2);		}				lineBox.graphics.lineStyle(4, 0xFFFFFF, 1);		lineBox.graphics.lineTo(realX, realY);		lineBox2.graphics.lineStyle(4, 0xFFFFFF, 1);		lineBox2.graphics.lineTo(realX2, realY2);	}}function changeRotX(e:Event = null){	totLongi-=10	rangeLongi = totLongi / totFrame;	totLongi = tar.y;}function run(){	TweenMax.to(tar, 3, {y:1440, ease:Cubic.easeInOut, overwrite:false});	TweenMax.to(tar, 3, {y:-1440, ease:Cubic.easeInOut, delay:3, overwrite:false, onComplete:run});}run();